<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myin Thar Roast - Premium Food Ordering</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-orange': '#FF6B35',
                        'brand-light-orange': '#FF8C61',
                        'brand-cream': '#FFF8F0',
                        'brand-pearl': '#FDF8F6',
                        'brand-dark': '#2C1810'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                        'pulse-soft': 'pulseSoft 2s infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(0)' }
                        },
                        bounceIn: {
                            '0%, 20%, 40%, 60%, 80%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.05)' }
                        },
                        pulseSoft: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.7' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #FFF8F0 0%, #FDF8F6 100%);
        }
        .glass-effect {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-orange {
            background: linear-gradient(135deg, #FF6B35 0%, #FF8C61 100%);
        }
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(255, 107, 53, 0.25);
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        .cart-item-enter {
            animation: cartItemEnter 0.5s ease-out;
        }
        @keyframes cartItemEnter {
            0% { transform: translateX(100%) scale(0.8); opacity: 0; }
            100% { transform: translateX(0) scale(1); opacity: 1; }
        }
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Loading Screen -->
    <div id="loader" class="fixed inset-0 z-50 flex items-center justify-center bg-brand-pearl">
        <div class="text-center">
            <div class="relative">
                <div class="w-24 h-24 mx-auto rounded-full gradient-orange animate-spin">
                    <div class="absolute inset-2 rounded-full bg-white flex items-center justify-center">
                        <span class="text-brand-orange font-bold text-xl">MT</span>
                    </div>
                </div>
            </div>
            <p class="mt-4 text-brand-dark font-semibold text-lg">Loading Myin Thar Roast...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="sticky top-0 z-40 glass-effect shadow-lg">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button id="menu-toggle" class="lg:hidden p-2 rounded-lg hover:bg-brand-cream transition-colors">
                        <svg class="w-6 h-6 text-brand-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 rounded-xl gradient-orange flex items-center justify-center">
                            <span class="text-white font-bold text-xl">MT</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-brand-dark">Myin Thar Roast</h1>
                            <p class="text-sm text-gray-600">Premium Roast & Delivery</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Language Toggle -->
                    <div class="flex items-center space-x-2">
                        <button id="lang-toggle" class="px-3 py-1 rounded-lg bg-brand-cream hover:bg-brand-orange hover:text-white transition-all">
                            <span id="current-lang">EN</span>
                        </button>
                    </div>
                    
                    <!-- Notifications -->
                    <div class="relative">
                        <button id="notification-btn" class="p-2 rounded-lg hover:bg-brand-cream transition-colors relative">
                            <svg class="w-6 h-6 text-brand-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM9 17H4l5 5v-5zM12 3v12"></path>
                            </svg>
                            <span id="notification-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center notification-badge hidden">0</span>
                        </button>
                    </div>
                    
                    <!-- Cart Button -->
                    <button id="cart-toggle" class="p-2 rounded-lg hover:bg-brand-cream transition-colors relative">
                        <svg class="w-6 h-6 text-brand-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 4.5M7 13l-1.5 4.5m0 0h13m-13 0l1.5 4.5m7.5-4.5h6m-6 0a1 1 0 11-2 0m6 0a1 1 0 11-2 0"></path>
                        </svg>
                        <span id="cart-count" class="absolute -top-1 -right-1 w-6 h-6 bg-brand-orange text-white text-xs rounded-full flex items-center justify-center font-semibold">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden"></div>
    
    <!-- Sidebar -->
    <aside id="sidebar" class="fixed left-0 top-0 h-full w-80 bg-white shadow-2xl z-40 transform -translate-x-full transition-transform duration-300 lg:translate-x-0 lg:static lg:z-20">
        <div class="p-6">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-xl font-bold text-brand-dark">Menu</h2>
                <button id="close-sidebar" class="lg:hidden p-2 rounded-lg hover:bg-brand-cream">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Search Bar -->
            <div class="mb-6">
                <div class="relative">
                    <input type="text" id="search-bar" placeholder="Search menu..." class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                    <svg class="absolute left-3 top-3 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>
            
            <!-- Categories -->
            <div class="mb-8">
                <h3 class="font-semibold text-brand-dark mb-4">Categories</h3>
                <div class="space-y-2">
                    <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors" data-category="all">
                        <span class="lang-all">All Items</span>
                        <span class="lang-all-mm hidden">·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏</span>
                    </button>
                    <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors" data-category="roast">
                        <span class="lang-roast">Roast Dishes</span>
                        <span class="lang-roast-mm hidden">·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄØ·Äê·Ä∫</span>
                    </button>
                    <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors" data-category="soup">
                        <span class="lang-soup">Soups</span>
                        <span class="lang-soup-mm hidden">·Äü·ÄÑ·Ä∫·Ä∏·Äõ·Ää·Ä∫</span>
                    </button>
                    <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors" data-category="drink">
                        <span class="lang-drink">Beverages</span>
                        <span class="lang-drink-mm hidden">·Äû·Ä±·Ä¨·ÄÄ·Ä∫·ÄÖ·Äõ·Ä¨</span>
                    </button>
                    <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors" data-category="dessert">
                        <span class="lang-dessert">Desserts</span>
                        <span class="lang-dessert-mm hidden">·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äî·Äæ·Ä∂</span>
                    </button>
                </div>
            </div>
            
            <!-- Customer Profile -->
            <div class="border-t pt-6">
                <h3 class="font-semibold text-brand-dark mb-4">Customer Profile</h3>
                <div class="space-y-3">
                    <button id="profile-btn" class="w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span class="lang-profile">Profile</span>
                        <span class="lang-profile-mm hidden">·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Ä°·Äõ·Ä¨</span>
                    </button>
                    <button id="history-btn" class="w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="lang-history">Order History</span>
                        <span class="lang-history-mm hidden">·Äô·Äæ·Ä¨·Äö·Ä∞·Äô·Äæ·ÄØ·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏</span>
                    </button>
                    <button id="tracking-btn" class="w-full text-left p-3 rounded-lg hover:bg-brand-cream transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-brand-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="lang-tracking">Track Order</span>
                        <span class="lang-tracking-mm hidden">·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äõ·Äæ·Ä¨·Äõ·Äî·Ä∫</span>
                    </button>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="lg:ml-80 min-h-screen">
        <div class="container mx-auto px-4 py-6">
            <!-- Welcome Banner -->
            <div class="bg-gradient-to-r from-brand-orange to-brand-light-orange rounded-2xl p-6 mb-8 text-white">
                <h2 class="text-2xl font-bold mb-2 lang-welcome">Welcome to Myin Thar Roast</h2>
                <h2 class="text-2xl font-bold mb-2 lang-welcome-mm hidden">Myin Thar Roast ·Äô·Äæ ·ÄÄ·Äº·Ä≠·ÄØ·ÄÜ·Ä≠·ÄØ·Äï·Ä´·Äê·Äö·Ä∫</h2>
                <p class="lang-welcome-desc">Premium quality roast dishes delivered to your door</p>
                <p class="lang-welcome-desc-mm hidden">·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄØ·Äê·Ä∫·Ä°·Äû·ÄÆ·Ä∏·Ä°·Äî·Äæ·Ä∂·Äô·Äª·Ä¨·Ä∏ ·Äû·ÄÑ·Ä∑·Ä∫·Ä°·Ä≠·Äô·Ä∫·Äû·Ä≠·ÄØ·Ä∑ ·Äï·Ä≠·ÄØ·Ä∑·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Ä±·Ä∏·Äï·Ä´·Äê·Äö·Ä∫</p>
            </div>

            <!-- Menu Display -->
            <div id="menu-display" class="menu-grid">
                <!-- Menu items will be populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Checkout Bar -->
    <div id="checkout-bar" class="fixed bottom-0 left-0 right-0 lg:left-80 bg-white border-t border-gray-200 p-4 transform translate-y-full transition-transform duration-300 z-30">
        <div class="container mx-auto">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 lang-items-count">0 items</p>
                    <p id="total-price" class="text-xl font-bold text-brand-dark">$0.00</p>
                </div>
                <button id="checkout-btn" class="gradient-orange text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all transform hover:scale-105">
                    <span class="lang-checkout">Checkout</span>
                    <span class="lang-checkout-mm hidden">·ÄÖ·Äª·Ä±·Ä∏·Äù·Äö·Ä∫·Äõ·Äî·Ä∫</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Cart Drawer -->
    <div id="cart-drawer" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black bg-opacity-50" id="cart-overlay"></div>
        <div class="absolute right-0 top-0 h-full w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-brand-dark lang-cart">Shopping Cart</h3>
                    <button id="close-cart" class="p-2 rounded-lg hover:bg-brand-cream">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div id="cart-items" class="space-y-4 mb-6 max-h-96 overflow-y-auto">
                    <!-- Cart items will be populated here -->
                </div>
                
                <div class="border-t pt-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="font-semibold lang-total">Total:</span>
                        <span id="drawer-total" class="text-xl font-bold text-brand-orange">$0.00</span>
                    </div>
                    <button id="drawer-checkout" class="w-full gradient-orange text-white py-3 rounded-xl font-semibold">
                        <span class="lang-proceed">Proceed to Checkout</span>
                        <span class="lang-proceed-mm hidden">·ÄÖ·Äª·Ä±·Ä∏·Äù·Äö·Ä∫·Äõ·Äî·Ä∫</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black bg-opacity-50" id="checkout-overlay"></div>
        <div class="absolute inset-4 bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 h-full overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-brand-dark lang-order-form">Order Form</h3>
                    <button id="close-checkout" class="p-2 rounded-lg hover:bg-brand-cream">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <form id="order-form" class="space-y-4">
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 lang-name">Name</label>
                            <input type="text" id="customer-name" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 lang-phone">Phone Number</label>
                            <input type="tel" id="customer-phone" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange">
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 lang-date">Pickup Date</label>
                            <input type="date" id="pickup-date" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 lang-time">Pickup Time</label>
                            <input type="time" id="pickup-time" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2 lang-notes">Special Notes</label>
                        <textarea id="order-notes" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange" placeholder="Any special requests..."></textarea>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center mb-4">
                            <span class="font-semibold lang-order-total">Order Total:</span>
                            <span id="modal-total" class="text-2xl font-bold text-brand-orange">$0.00</span>
                        </div>
                        
                        <div class="flex space-x-3">
                            <button type="button" id="viber-btn" class="flex-1 bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                                <svg class="w-5 h-5 inline mr-2" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12.007 0C5.37 0 .007 5.364.007 12.001c0 6.637 5.363 12 12 12.001 6.637.001 12-5.364 12-12.001C24.007 5.364 18.644.001 12.007 0zm5.458 17.917c-.263.736-.596 1.428-.991 2.068-.395-.64-.728-1.332-.991-2.068H6.517c.263.736.596 1.428.991 2.068.395-.64.728-1.332.991-2.068h5.508z"/>
                                </svg>
                                <span class="lang-viber">Send via Viber</span>
                                <span class="lang-viber-mm hidden">Viber ·Äñ·Äº·ÄÑ·Ä∑·Ä∫·Äï·Ä≠·ÄØ·Ä∑·Äõ·Äî·Ä∫</span>
                            </button>
                            <button type="button" id="telegram-btn" class="flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold hover:bg-blue-600 transition-colors">
                                <svg class="w-5 h-5 inline mr-2" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                                </svg>
                                <span class="lang-telegram">Send via Telegram</span>
                                <span class="lang-telegram-mm hidden">Telegram ·Äñ·Äº·ÄÑ·Ä∑·Ä∫·Äï·Ä≠·ÄØ·Ä∑·Äõ·Äî·Ä∫</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- App Guide Modal -->
    <div id="app-guide-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black bg-opacity-50" id="guide-overlay"></div>
        <div class="absolute inset-4 bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 h-full overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-brand-dark lang-guide-title">How to Send Order</h3>
                    <button id="close-guide" class="p-2 rounded-lg hover:bg-brand-cream">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-white font-bold">üí°</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-yellow-800 lang-guide-step1">Step 1: Order Summary</h4>
                                <p class="text-yellow-700 text-sm lang-guide-step1-text">Your order details will be automatically copied to clipboard</p>
                                <p class="text-yellow-700 text-sm lang-guide-step1-text-mm hidden">·Äû·ÄÑ·Ä∑·Ä∫·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Ä°·Äû·Ä±·Ä∏·ÄÖ·Ä≠·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏ clipboard ·Äû·Ä≠·ÄØ·Ä∑ ·Ä°·Äú·Ä≠·ÄØ·Ä°·Äú·Äª·Ä±·Ä¨·ÄÄ·Ä∫ ·ÄÄ·Ä∞·Ä∏·Äö·Ä∞·Äï·Ä´·Äô·Ää·Ä∫</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-blue-400 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-white font-bold">2</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-blue-800 lang-guide-step2">Step 2: Open App</h4>
                                <p class="text-blue-700 text-sm lang-guide-step2-text">The selected app will open automatically</p>
                                <p class="text-blue-700 text-sm lang-guide-step2-text-mm hidden">·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ app ·ÄÄ·Ä≠·ÄØ ·Ä°·Äú·Ä≠·ÄØ·Ä°·Äú·Äª·Ä±·Ä¨·ÄÄ·Ä∫ ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´·Äô·Ää·Ä∫</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-green-400 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-white font-bold">3</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-green-800 lang-guide-step3">Step 3: Paste & Send</h4>
                                <p class="text-green-700 text-sm lang-guide-step3-text">Long press in the chat and select Paste to send your order</p>
                                <p class="text-green-700 text-sm lang-guide-step3-text-mm hidden">chat ·Äë·Ä≤·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äõ·Äæ·Ää·Ä∫·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ Paste ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Åç ·Äû·ÄÑ·Ä∑·Ä∫·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·ÄÄ·Ä≠·ÄØ ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä±·Ä∏·Äï·Ä´</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-red-400 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-white font-bold">‚ö†Ô∏è</span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-red-800 lang-guide-warning">Important Notice</h4>
                                <p class="text-red-700 text-sm lang-guide-warning-text">After placing your order, please call <strong>09767287345</strong> to confirm</p>
                                <p class="text-red-700 text-sm lang-guide-warning-text-mm hidden">·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äê·ÄÑ·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·ÄÄ <strong>09767287345</strong> ·Äû·Ä≠·ÄØ·Ä∑ ·Äñ·ÄØ·Äî·Ä∫·Ä∏·ÄÜ·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä¨·Ä∏·Äï·Ä±·Ä∏·Äï·Ä´</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button id="proceed-viber" class="flex-1 bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                            <svg class="w-5 h-5 inline mr-2" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12.007 0C5.37 0 .007 5.364.007 12.001c0 6.637 5.363 12 12 12.001 6.637.001 12-5.364 12-12.001C24.007 5.364 18.644.001 12.007 0zm5.458 17.917c-.263.736-.596 1.428-.991 2.068-.395-.64-.728-1.332-.991-2.068H6.517c.263.736.596 1.428.991 2.068.395-.64.728-1.332.991-2.068h5.508z"/>
                            </svg>
                            <span class="lang-proceed-viber">Proceed with Viber</span>
                            <span class="lang-proceed-viber-mm hidden">Viber ·Äñ·Äº·ÄÑ·Ä∑·Ä∫·ÄÜ·ÄÄ·Ä∫·Äú·ÄØ·Äï·Ä∫·Äõ·Äî·Ä∫</span>
                        </button>
                        <button id="proceed-telegram" class="flex-1 bg-blue-500 text-white py-3 rounded-xl font-semibold hover:bg-blue-600 transition-colors">
                            <svg class="w-5 h-5 inline mr-2" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                            </svg>
                            <span class="lang-proceed-telegram">Proceed with Telegram</span>
                            <span class="lang-proceed-telegram-mm hidden">Telegram ·Äñ·Äº·ÄÑ·Ä∑·Ä∫·ÄÜ·ÄÄ·Ä∫·Äú·ÄØ·Äï·Ä∫·Äõ·Äî·Ä∫</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Profile Modal -->
    <div id="profile-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black bg-opacity-50" id="profile-overlay"></div>
        <div class="absolute inset-4 bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 h-full overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-brand-dark lang-customer-profile">Customer Profile</h3>
                    <button id="close-profile" class="p-2 rounded-lg hover:bg-brand-cream">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-brand-cream rounded-xl p-6">
                            <h4 class="font-semibold text-brand-dark mb-4 lang-total-orders">Total Orders</h4>
                            <div class="text-3xl font-bold text-brand-orange" id="total-orders">0</div>
                        </div>
                        <div class="bg-brand-cream rounded-xl p-6">
                            <h4 class="font-semibold text-brand-dark mb-4 lang-total-spent">Total Spent</h4>
                            <div class="text-3xl font-bold text-brand-orange" id="total-spent">$0.00</div>
                        </div>
                    </div>
                    
                    <div class="bg-brand-cream rounded-xl p-6">
                        <h4 class="font-semibold text-brand-dark mb-4 lang-recent-orders">Recent Orders</h4>
                        <div id="recent-orders" class="space-y-3">
                            <p class="text-gray-600 lang-no-orders">No orders yet</p>
                            <p class="text-gray-600 lang-no-orders-mm hidden">·Äô·Äæ·Ä¨·Äö·Ä∞·ÄÅ·Äº·ÄÑ·Ä∑·Ä∫ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Invoice Modal -->
    <div id="invoice-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black bg-opacity-50" id="invoice-overlay"></div>
        <div class="absolute inset-4 bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 h-full overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-bold text-brand-dark lang-invoice">Invoice</h3>
                    <button id="close-invoice" class="p-2 rounded-lg hover:bg-brand-cream">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div id="invoice-content" class="bg-white border border-gray-200 rounded-xl p-6 mb-6">
                    <!-- Invoice content will be populated here -->
                </div>
                
                <div class="flex space-x-3">
                    <button id="download-invoice" class="flex-1 bg-brand-orange text-white py-3 rounded-xl font-semibold hover:bg-brand-light-orange transition-colors">
                        <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <span class="lang-download">Download Invoice</span>
                        <span class="lang-download-mm hidden">·Äò·Ä±·Äú·Ä∫·Äê·Ä≠·ÄØ ·Äí·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·Äú·ÄØ·Äê·Ä∫·Äõ·Äî·Ä∫</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let cart = {};
        let menuItems = [];
        let currentLanguage = 'en';
        let currentPlatform = null;

        // Sample Menu Data (Replace with Supabase fetch)
        const sampleMenuItems = [
            {
                id: 1,
                name: "Fried Rice",
                name_mm: "·ÄÄ·Äº·ÄÄ·Ä∫·Äû·Ä¨·Ä∏·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏",
                category: "roast",
                price: 5.99,
                image: "https://images.unsplash.com/photo-1563379091339-03246963d7c3?w=400",
                description: "Delicious fried rice with vegetables",
                description_mm: "·Äü·ÄÑ·Ä∫·Ä∏·Äû·ÄÆ·Ä∏·Äü·ÄÑ·Ä∫·Ä∏·Äõ·ÄΩ·ÄÄ·Ä∫·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Ä≠·Äê·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·ÄÄ·Ä∫·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏"
            },
            {
                id: 2,
                name: "Chicken Curry",
                name_mm: "·ÄÄ·Äº·ÄÄ·Ä∫·Äû·Ä¨·Ä∏·ÄÅ·Äª·Ä≠·ÄØ·Äû·Ä¨·Ä∏·Äõ·Ää·Ä∫",
                category: "roast",
                price: 8.99,
                image: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=400",
                description: "Traditional chicken curry",
                description_mm: "·Äõ·Ä≠·ÄØ·Ä∏·Äõ·Ä≠·ÄØ·Ä∏·Äî·Ää·Ä∫·Ä∏·ÄÄ·Äº·ÄÄ·Ä∫·Äû·Ä¨·Ä∏·ÄÅ·Äª·Ä≠·ÄØ·Äû·Ä¨·Ä∏·Äõ·Ää·Ä∫"
            },
            {
                id: 3,
                name: "Tomato Soup",
                name_mm: "·ÄÅ·Äõ·Äô·Ä∫·Ä∏·ÄÅ·Äª·Äâ·Ä∫·Äû·ÄÆ·Ä∏·Äü·ÄÑ·Ä∫·Ä∏·Äõ·Ää·Ä∫",
                category: "soup",
                price: 3.99,
                image: "https://images.unsplash.com/photo-1547592166-23ac45744acd?w=400",
                description: "Fresh tomato soup",
                description_mm: "·Äû·Äî·Ä∑·Ä∫·Äõ·Äæ·ÄÑ·Ä∫·Ä∏·Äû·Ä±·Ä¨·ÄÅ·Äõ·Äô·Ä∫·Ä∏·ÄÅ·Äª·Äâ·Ä∫·Äû·ÄÆ·Ä∏·Äü·ÄÑ·Ä∫·Ä∏·Äõ·Ää·Ä∫"
            },
            {
                id: 4,
                name: "Fresh Orange Juice",
                name_mm: "·Äú·Ä≠·Äô·Äπ·Äô·Ä¨·Äõ·ÄΩ·Äæ·Ä±·Äê·Ä¨·Äõ·Äæ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏",
                category: "drink",
                price: 2.99,
                image: "https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?w=400",
                description: "Freshly squeezed orange juice",
                description_mm: "·Äú·Äê·Ä∫·ÄÜ·Äê·Ä∫·Äû·Ä±·Ä¨·Äú·Ä≠·Äô·Äπ·Äô·Ä¨·Äõ·ÄΩ·Äæ·Ä±·Äê·Ä¨·Äõ·Äæ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏"
            },
            {
                id: 5,
                name: "Mango Pudding",
                name_mm: "·Äû·Äõ·ÄÄ·Ä∫·Äñ·Äº·Ä∞",
                category: "dessert",
                price: 4.99,
                image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400",
                description: "Creamy mango pudding",
                description_mm: "·ÄÅ·Äª·Ä≠·ÄØ·Äô·Äº·Ä≠·Äî·Ä∫·Äû·Ä±·Ä¨·Äû·Äõ·ÄÄ·Ä∫·Äñ·Äº·Ä∞"
            },
            {
                id: 6,
                name: "Beef Stir Fry",
                name_mm: "·Ä°·Äô·Ä≤·Äû·Ä¨·Ä∏·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏",
                category: "roast",
                price: 12.99,
                image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",
                description: "Tender beef stir fry",
                description_mm: "·Äî·Ä∞·Ä∏·Ää·Ä∂·Ä∑·Äû·Ä±·Ä¨·Ä°·Äô·Ä≤·Äû·Ä¨·Ä∏·Ä°·Äê·Ä≠·ÄØ·ÄÅ·Äª·ÄØ·Ä∂·Ä∏"
            }
        ];

        // Utility Functions
        function getSafeId(name) {
            return name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
        }

        function showNotification(message, type = 'info') {
            const badge = document.getElementById('notification-badge');
            const count = parseInt(badge.textContent) + 1;
            badge.textContent = count;
            badge.classList.remove('hidden');
            
            // Show notification toast
            const toast = document.createElement('div');
            toast.className = `fixed top-20 right-4 p-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300`;
            toast.classList.add(type === 'success' ? 'bg-green-500 text-white' : 
                              type === 'error' ? 'bg-red-500 text-white' : 'bg-blue-500 text-white');
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Data Fetching Functions
        async function fetchMenu() {
            // Simulate API call - Replace with Supabase fetch
            try {
                menuItems = sampleMenuItems;
                renderMenu(menuItems);
            } catch (error) {
                console.error('Error fetching menu:', error);
                showNotification('Error loading menu', 'error');
            }
        }

        // Menu Rendering Functions
        function renderMenu(items) {
            const menuDisplay = document.getElementById('menu-display');
            menuDisplay.innerHTML = '';
            
            items.forEach(item => {
                const safeId = getSafeId(item.name);
                const menuCard = document.createElement('div');
                menuCard.className = 'bg-white rounded-2xl shadow-lg overflow-hidden card-hover animate-fade-in';
                menuCard.innerHTML = `
                    <div class="relative">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-48 object-cover">
                        <div class="absolute top-4 right-4 bg-brand-orange text-white px-3 py-1 rounded-full text-sm font-semibold">
                            $${item.price}
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-brand-dark mb-2" data-name="${safeId}">${item.name}</h3>
                        <p class="text-gray-600 mb-4">${item.description}</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button onclick="updateQty('${safeId}', -1)" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                                    </svg>
                                </button>
                                <span id="qty-${safeId}" class="w-8 text-center font-semibold">0</span>
                                <button onclick="updateQty('${safeId}', 1)" class="w-8 h-8 rounded-full bg-brand-orange hover:bg-brand-light-orange text-white flex items-center justify-center transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>
                            <button onclick="addToCart('${safeId}')" class="bg-brand-orange hover:bg-brand-light-orange text-white px-4 py-2 rounded-lg font-semibold transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                menuDisplay.appendChild(menuCard);
            });
        }

        // Cart Management Functions
        function updateQty(name, change) {
            const qtyElement = document.getElementById(`qty-${name}`);
            let currentQty = parseInt(qtyElement.textContent) || 0;
            let newQty = Math.max(0, currentQty + change);
            
            qtyElement.textContent = newQty;
            
            // Update cart object
            if (newQty === 0) {
                delete cart[name];
            } else {
                const item = menuItems.find(item => getSafeId(item.name) === name);
                if (item) {
                    cart[name] = {
                        ...item,
                        quantity: newQty,
                        total: item.price * newQty
                    };
                }
            }
            
            updateTotal();
            saveCart();
            
            // Animation for cart addition
            if (change > 0) {
                qtyElement.parentElement.parentElement.querySelector('button:last-child').classList.add('animate-bounce-in');
                setTimeout(() => qtyElement.parentElement.parentElement.querySelector('button:last-child').classList.remove('animate-bounce-in'), 600);
            }
        }

        function deleteItem(name) {
            delete cart[name];
            const item = menuItems.find(item => getSafeId(item.name) === name);
            if (item) {
                const safeId = getSafeId(item.name);
                document.getElementById(`qty-${safeId}`).textContent = '0';
            }
            updateTotal();
            renderDrawerItems();
            saveCart();
        }

        function addToCart(name) {
            const qtyElement = document.getElementById(`qty-${name}`);
            const currentQty = parseInt(qtyElement.textContent) || 0;
            if (currentQty === 0) {
                updateQty(name, 1);
            }
            showNotification('Item added to cart!', 'success');
        }

        function updateTotal() {
            const total = Object.values(cart).reduce((sum, item) => sum + item.total, 0);
            const itemCount = Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
            
            updateTotalDisplay(total);
            updateCheckoutBar(itemCount, total);
            updateCartCount(itemCount);
        }

        function updateTotalDisplay(total) {
            document.getElementById('total-price').textContent = `$${total.toFixed(2)}`;
        }

        function updateCheckoutBar(count, total) {
            const checkoutBar = document.getElementById('checkout-bar');
            const itemsCount = checkoutBar.querySelector('.text-sm');
            const totalPrice = document.getElementById('total-price');
            
            itemsCount.textContent = `${count} ${currentLanguage === 'en' ? 'items' : '·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏'}`;
            totalPrice.textContent = `$${total.toFixed(2)}`;
            
            if (count > 0) {
                checkoutBar.style.transform = 'translateY(0)';
            } else {
                checkoutBar.style.transform = 'translateY(100%)';
            }
        }

        function updateCartCount(count) {
            document.getElementById('cart-count').textContent = count;
        }

        function renderDrawerItems() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-8">Your cart is empty</p>';
                return;
            }
            
            Object.values(cart).forEach(item => {
                const safeId = getSafeId(item.name);
                const cartItem = document.createElement('div');
                cartItem.className = 'flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cart-item-enter';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                    <div class="flex-1">
                        <h4 class="font-semibold text-brand-dark">${item.name}</h4>
                        <p class="text-brand-orange font-semibold">$${item.price}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQty('${safeId}', -1)" class="w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                            </svg>
                        </button>
                        <span class="w-8 text-center font-semibold">${item.quantity}</span>
                        <button onclick="updateQty('${safeId}', 1)" class="w-6 h-6 rounded-full bg-brand-orange hover:bg-brand-light-orange text-white flex items-center justify-center">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                        </button>
                        <button onclick="deleteItem('${safeId}')" class="w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 text-white flex items-center justify-center ml-2">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            // Update drawer total
            const total = Object.values(cart).reduce((sum, item) => sum + item.total, 0);
            document.getElementById('drawer-total').textContent = `$${total.toFixed(2)}`;
        }

        // Order Management Functions
        function submitOrder(platform) {
            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const date = document.getElementById('pickup-date').value;
            const time = document.getElementById('pickup-time').value;
            const notes = document.getElementById('order-notes').value;
            
            if (!name || !phone || !date || !time) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const order = {
                id: Date.now(),
                customer: { name, phone },
                items: cart,
                pickupDate: date,
                pickupTime: time,
                notes,
                total: Object.values(cart).reduce((sum, item) => sum + item.total, 0),
                timestamp: new Date().toISOString(),
                status: 'pending'
            };
            
            // Save order to history
            saveToHistory(order);
            
            // Generate order message
            const message = generateOrderMessage(order);
            
            // Show guide modal
            showAppGuide(platform, message);
        }

        function generateOrderMessage(order) {
            const lang = currentLanguage === 'mm' ? 'mm' : 'en';
            
            if (lang === 'mm') {
                let message = `üçΩÔ∏è *Myin Thar Roast - ·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´*\n\n`;
                message += `üë§ ·Äû·ÄØ·Ä∂·Ä∏·ÄÖ·ÄΩ·Ä≤·Äû·Ä∞: ${order.customer.name}\n`;
                message += `üì± ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${order.customer.phone}\n`;
                message += `üìÖ ·ÄÄ·Ä±·Ä¨·ÄÄ·Ä∫·Äö·Ä∞·Äô·Ää·Ä∑·Ä∫·Äõ·ÄÄ·Ä∫: ${order.pickupDate}\n`;
                message += `üïê ·ÄÄ·Ä±·Ä¨·ÄÄ·Ä∫·Äö·Ä∞·Äô·Ää·Ä∑·Ä∫·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫: ${order.pickupTime}\n\n`;
                message += `üìã ·Äô·Äæ·Ä¨·Äö·Ä∞·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏:\n`;
                
                Object.values(order.items).forEach((item, index) => {
                    message += `${index + 1}. ${item.name} x${item.quantity} - $${item.total.toFixed(2)}\n`;
                });
                
                message += `\nüí∞ ·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏: $${order.total.toFixed(2)}\n`;
                
                if (order.notes) {
                    message += `\nüìù ·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: ${order.notes}\n`;
                }
                
                message += `\n‚è∞ ·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äê·ÄÑ·Ä∫·ÄÅ·Äª·Ä≠·Äî·Ä∫: ${new Date(order.timestamp).toLocaleString('my-MM')}\n`;
                message += `\nüìû ·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä¨·Ä∏·Äõ·Äî·Ä∫: 09767287345`;
                
                return message;
            } else {
                let message = `üçΩÔ∏è *Myin Thar Roast - Order*\n\n`;
                message += `üë§ Customer: ${order.customer.name}\n`;
                message += `üì± Phone: ${order.customer.phone}\n`;
                message += `üìÖ Pickup Date: ${order.pickupDate}\n`;
                message += `üïê Pickup Time: ${order.pickupTime}\n\n`;
                message += `üìã Order Items:\n`;
                
                Object.values(order.items).forEach((item, index) => {
                    message += `${index + 1}. ${item.name} x${item.quantity} - $${item.total.toFixed(2)}\n`;
                });
                
                message += `\nüí∞ Total: $${order.total.toFixed(2)}\n`;
                
                if (order.notes) {
                    message += `\nüìù Notes: ${order.notes}\n`;
                }
                
                message += `\n‚è∞ Order Time: ${new Date(order.timestamp).toLocaleString()}\n`;
                message += `\nüìû Call for confirmation: 09767287345`;
                
                return message;
            }
        }

        function showAppGuide(platform, message) {
            currentPlatform = platform;
            const guideModal = document.getElementById('app-guide-modal');
            
            // Update modal content based on platform
            const proceedBtn = document.getElementById(`proceed-${platform}`);
            proceedBtn.onclick = () => {
                proceedWithOrder(platform, message);
            };
            
            guideModal.classList.remove('hidden');
            setTimeout(() => guideModal.classList.add('opacity-100'), 10);
        }

        function proceedWithOrder(platform, message) {
            const guideModal = document.getElementById('app-guide-modal');
            
            // Copy message to clipboard
            copyToClipboard(message).then(() => {
                showNotification('Order copied to clipboard!', 'success');
                
                // Close guide modal
                guideModal.classList.add('hidden');
                
                // Open respective app
                if (platform === 'viber') {
                    window.open('viber://chat?number=959767287345', '_blank');
                } else if (platform === 'telegram') {
                    window.open('https://t.me/share/url?url=&text=', '_blank');
                }
                
                // Generate and show invoice
                generateInvoice();
                
                // Reset cart after delay
                setTimeout(() => {
                    resetCart();
                    location.reload();
                }, 2000);
            }).catch(() => {
                showNotification('Failed to copy to clipboard', 'error');
            });
        }

        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                return navigator.clipboard.writeText(text);
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                return new Promise((resolve, reject) => {
                    if (document.execCommand('copy')) {
                        resolve();
                    } else {
                        reject();
                    }
                    document.body.removeChild(textArea);
                });
            }
        }

        function generateInvoice() {
            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const date = new Date().toLocaleDateString();
            
            const invoiceContent = document.getElementById('invoice-content');
            invoiceContent.innerHTML = `
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-brand-dark">Myin Thar Roast</h2>
                    <p class="text-gray-600">Premium Roast & Delivery</p>
                    <p class="text-sm text-gray-500">Invoice #${Date.now()}</p>
                </div>
                
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div>
                        <h4 class="font-semibold text-brand-dark">Customer Information</h4>
                        <p class="text-sm text-gray-600">Name: ${name}</p>
                        <p class="text-sm text-gray-600">Phone: ${phone}</p>
                    </div>
                    <div class="text-right">
                        <h4 class="font-semibold text-brand-dark">Invoice Date</h4>
                        <p class="text-sm text-gray-600">${date}</p>
                    </div>
                </div>
                
                <div class="border-t border-gray-200 pt-4">
                    <h4 class="font-semibold text-brand-dark mb-4">Order Items</h4>
                    <div class="space-y-2">
                        ${Object.values(cart).map(item => `
                            <div class="flex justify-between items-center">
                                <span class="text-sm">${item.name} x${item.quantity}</span>
                                <span class="text-sm font-semibold">$${item.total.toFixed(2)}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <div class="flex justify-between items-center text-xl font-bold">
                        <span>Total:</span>
                        <span class="text-brand-orange">$${Object.values(cart).reduce((sum, item) => sum + item.total, 0).toFixed(2)}</span>
                    </div>
                </div>
            `;
            
            document.getElementById('invoice-modal').classList.remove('hidden');
        }

        function resetCart() {
            cart = {};
            Object.keys(cart).forEach(key => delete cart[key]);
            saveCart();
            updateTotal();
            
            // Reset all quantity displays
            menuItems.forEach(item => {
                const safeId = getSafeId(item.name);
                const qtyElement = document.getElementById(`qty-${safeId}`);
                if (qtyElement) qtyElement.textContent = '0';
            });
        }

        // History and Tracking Functions
        function saveToHistory(order) {
            let history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            history.unshift(order);
            history = history.slice(0, 50); // Keep last 50 orders
            localStorage.setItem('orderHistory', JSON.stringify(history));
        }

        function showHistory() {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const recentOrders = document.getElementById('recent-orders');
            
            if (history.length === 0) {
                recentOrders.innerHTML = `
                    <p class="text-gray-600 lang-no-orders">No orders yet</p>
                    <p class="text-gray-600 lang-no-orders-mm hidden">·Äô·Äæ·Ä¨·Äö·Ä∞·ÄÅ·Äº·ÄÑ·Ä∑·Ä∫ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏</p>
                `;
                return;
            }
            
            recentOrders.innerHTML = history.slice(0, 5).map(order => `
                <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                        <span class="font-semibold text-brand-dark">#${order.id}</span>
                        <span class="text-sm text-brand-orange font-semibold">$${order.total.toFixed(2)}</span>
                    </div>
                    <p class="text-sm text-gray-600">${new Date(order.timestamp).toLocaleDateString()}</p>
                    <p class="text-sm text-gray-600">${Object.values(order.items).length} items</p>
                </div>
            `).join('');
        }

        function trackOrder() {
            const orderId = prompt(currentLanguage === 'mm' ? '·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´ ID ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´:' : 'Enter Order ID:');
            if (!orderId) return;
            
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const order = history.find(o => o.id.toString() === orderId);
            
            if (order) {
                showNotification(`Order Status: ${order.status}`, 'info');
            } else {
                showNotification(currentLanguage === 'mm' ? '·Ä°·Ä±·Ä¨·Ä∫·Äí·Ä´·Äô·Äê·ÄΩ·Ä±·Ä∑·Äï·Ä´' : 'Order not found', 'error');
            }
        }

        // Local Storage Functions
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function loadCart() {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                
                // Update UI to reflect loaded cart
                Object.values(cart).forEach(item => {
                    const safeId = getSafeId(item.name);
                    const qtyElement = document.getElementById(`qty-${safeId}`);
                    if (qtyElement) {
                        qtyElement.textContent = item.quantity;
                    }
                });
                
                updateTotal();
            }
        }

        // Filter Functions
        function filterMenu() {
            const searchTerm = document.getElementById('search-bar').value.toLowerCase();
            const categoryFilter = document.querySelector('.category-btn.active')?.dataset.category || 'all';
            
            let filteredItems = menuItems;
            
            // Filter by category
            if (categoryFilter !== 'all') {
                filteredItems = filteredItems.filter(item => item.category === categoryFilter);
            }
            
            // Filter by search term
            if (searchTerm) {
                filteredItems = filteredItems.filter(item => 
                    item.name.toLowerCase().includes(searchTerm) ||
                    item.description.toLowerCase().includes(searchTerm) ||
                    (item.name_mm && item.name_mm.includes(searchTerm))
                );
            }
            
            renderMenu(filteredItems);
        }

        // UI Toggle Functions
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        function toggleDrawer() {
            const drawer = document.getElementById('cart-drawer');
            const drawerPanel = drawer.querySelector('.absolute.right-0');
            
            drawer.classList.toggle('hidden');
            renderDrawerItems();
            
            if (!drawer.classList.contains('hidden')) {
                setTimeout(() => drawerPanel.style.transform = 'translateX(0)', 10);
            } else {
                drawerPanel.style.transform = 'translateX(100%)';
            }
        }

        function openCheckout() {
            if (Object.keys(cart).length === 0) {
                showNotification(currentLanguage === 'mm' ? '·Äú·Äæ·Ää·Ä∫·Ä∏·Äë·Ä≤·Äê·ÄΩ·ÄÑ·Ä∫ ·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äõ·Äæ·Ä≠·Äï·Ä´' : 'Cart is empty', 'error');
                return;
            }
            
            const total = Object.values(cart).reduce((sum, item) => sum + item.total, 0);
            document.getElementById('modal-total').textContent = `$${total.toFixed(2)}`;
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('pickup-date').min = today;
            
            document.getElementById('checkout-modal').classList.remove('hidden');
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').classList.add('hidden');
        }

        // Language Functions
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'mm' : 'en';
            document.getElementById('current-lang').textContent = currentLanguage === 'en' ? 'EN' : 'MM';
            
            // Toggle language elements
            const elementsToToggle = [
                '.lang-all', '.lang-all-mm',
                '.lang-roast', '.lang-roast-mm',
                '.lang-soup', '.lang-soup-mm',
                '.lang-drink', '.lang-drink-mm',
                '.lang-dessert', '.lang-dessert-mm',
                '.lang-profile', '.lang-profile-mm',
                '.lang-history', '.lang-history-mm',
                '.lang-tracking', '.lang-tracking-mm',
                '.lang-welcome', '.lang-welcome-mm',
                '.lang-welcome-desc', '.lang-welcome-desc-mm',
                '.lang-checkout', '.lang-checkout-mm',
                '.lang-cart', '.lang-cart-mm',
                '.lang-total', '.lang-total-mm',
                '.lang-proceed', '.lang-proceed-mm',
                '.lang-order-form', '.lang-order-form-mm',
                '.lang-name', '.lang-name-mm',
                '.lang-phone', '.lang-phone-mm',
                '.lang-date', '.lang-date-mm',
                '.lang-time', '.lang-time-mm',
                '.lang-notes', '.lang-notes-mm',
                '.lang-order-total', '.lang-order-total-mm',
                '.lang-viber', '.lang-viber-mm',
                '.lang-telegram', '.lang-telegram-mm',
                '.lang-guide-title', '.lang-guide-title-mm',
                '.lang-guide-step1', '.lang-guide-step1-mm',
                '.lang-guide-step1-text', '.lang-guide-step1-text-mm',
                '.lang-guide-step2', '.lang-guide-step2-mm',
                '.lang-guide-step2-text', '.lang-guide-step2-text-mm',
                '.lang-guide-step3', '.lang-guide-step3-mm',
                '.lang-guide-step3-text', '.lang-guide-step3-text-mm',
                '.lang-guide-warning', '.lang-guide-warning-mm',
                '.lang-guide-warning-text', '.lang-guide-warning-text-mm',
                '.lang-proceed-viber', '.lang-proceed-viber-mm',
                '.lang-proceed-telegram', '.lang-proceed-telegram-mm',
                '.lang-customer-profile', '.lang-customer-profile-mm',
                '.lang-total-orders', '.lang-total-orders-mm',
                '.lang-total-spent', '.lang-total-spent-mm',
                '.lang-recent-orders', '.lang-recent-orders-mm',
                '.lang-no-orders', '.lang-no-orders-mm',
                '.lang-invoice', '.lang-invoice-mm',
                '.lang-download', '.lang-download-mm'
            ];
            
            elementsToToggle.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach(el => {
                    if (selector.includes('-mm')) {
                        el.classList.toggle('hidden', currentLanguage !== 'mm');
                    } else {
                        el.classList.toggle('hidden', currentLanguage !== 'en');
                    }
                });
            });
            
            showNotification(currentLanguage === 'mm' ? '·Äô·Äº·Äî·Ä∫·Äô·Ä¨·Äò·Ä¨·Äû·Ä¨·Äû·Ä≠·ÄØ·Ä∑ ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä≤·Äï·Ä´·Äï·Äº·ÄÆ' : 'Language changed to English', 'success');
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loader after page load
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 1500);
            
            // Load initial data
            fetchMenu();
            loadCart();
            showHistory();
            
            // Menu toggle
            document.getElementById('menu-toggle').addEventListener('click', toggleSidebar);
            document.getElementById('close-sidebar').addEventListener('click', toggleSidebar);
            document.getElementById('sidebar-overlay').addEventListener('click', toggleSidebar);
            
            // Cart toggle
            document.getElementById('cart-toggle').addEventListener('click', toggleDrawer);
            document.getElementById('cart-overlay').addEventListener('click', toggleDrawer);
            document.getElementById('close-cart').addEventListener('click', toggleDrawer);
            
            // Checkout
            document.getElementById('checkout-btn').addEventListener('click', openCheckout);
            document.getElementById('drawer-checkout').addEventListener('click', () => {
                toggleDrawer();
                openCheckout();
            });
            document.getElementById('close-checkout').addEventListener('click', closeCheckout);
            document.getElementById('checkout-overlay').addEventListener('click', closeCheckout);
            
            // Order submission
            document.getElementById('viber-btn').addEventListener('click', () => submitOrder('viber'));
            document.getElementById('telegram-btn').addEventListener('click', () => submitOrder('telegram'));
            
            // Guide modal
            document.getElementById('close-guide').addEventListener('click', () => {
                document.getElementById('app-guide-modal').classList.add('hidden');
            });
            document.getElementById('guide-overlay').addEventListener('click', () => {
                document.getElementById('app-guide-modal').classList.add('hidden');
            });
            
            // Profile modal
            document.getElementById('profile-btn').addEventListener('click', () => {
                document.getElementById('profile-modal').classList.remove('hidden');
                updateProfileStats();
            });
            document.getElementById('close-profile').addEventListener('click', () => {
                document.getElementById('profile-modal').classList.add('hidden');
            });
            document.getElementById('profile-overlay').addEventListener('click', () => {
                document.getElementById('profile-modal').classList.add('hidden');
            });
            
            // Invoice modal
            document.getElementById('close-invoice').addEventListener('click', () => {
                document.getElementById('invoice-modal').classList.add('hidden');
            });
            document.getElementById('invoice-overlay').addEventListener('click', () => {
                document.getElementById('invoice-modal').classList.add('hidden');
            });
            document.getElementById('download-invoice').addEventListener('click', downloadInvoice);
            
            // Language toggle
            document.getElementById('lang-toggle').addEventListener('click', toggleLanguage);
            
            // Search and filter
            document.getElementById('search-bar').addEventListener('input', filterMenu);
            
            // Category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active', 'bg-brand-orange', 'text-white'));
                    this.classList.add('active', 'bg-brand-orange', 'text-white');
                    filterMenu();
                });
            });
            
            // History and tracking
            document.getElementById('history-btn').addEventListener('click', () => {
                document.getElementById('profile-modal').classList.remove('hidden');
                updateProfileStats();
            });
            document.getElementById('tracking-btn').addEventListener('click', trackOrder);
            
            // Notifications
            document.getElementById('notification-btn').addEventListener('click', () => {
                document.getElementById('notification-badge').classList.add('hidden');
                showNotification(currentLanguage === 'mm' ? '·Ä°·Äû·Ä≠·Äï·Ä±·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏ ·Äñ·Äê·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ' : 'All notifications marked as read', 'success');
            });
        });

        function updateProfileStats() {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const totalOrders = history.length;
            const totalSpent = history.reduce((sum, order) => sum + order.total, 0);
            
            document.getElementById('total-orders').textContent = totalOrders;
            document.getElementById('total-spent').textContent = `$${totalSpent.toFixed(2)}`;
            
            // Update recent orders
            showHistory();
        }

        function downloadInvoice() {
            const invoiceContent = document.getElementById('invoice-content').innerHTML;
            const fullHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Myin Thar Roast - Invoice</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; }
                        .text-center { text-align: center; }
                        .text-right { text-align: right; }
                        .text-brand-orange { color: #FF6B35; }
                        .text-brand-dark { color: #2C1810; }
                        .font-bold { font-weight: bold; }
                        .text-2xl { font-size: 24px; }
                        .text-xl { font-size: 20px; }
                        .text-sm { font-size: 14px; }
                        .mb-4 { margin-bottom: 16px; }
                        .mb-6 { margin-bottom: 24px; }
                        .grid { display: grid; }
                        .grid-cols-2 { grid-template-columns: 1fr 1fr; }
                        .gap-4 { gap: 16px; }
                        .border-t { border-top: 1px solid #e5e7eb; }
                        .border-gray-200 { border-color: #e5e7eb; }
                        .pt-4 { padding-top: 16px; }
                        .mt-4 { margin-top: 16px; }
                        .flex { display: flex; }
                        .justify-between { justify-content: space-between; }
                        .items-center { align-items: center; }
                    </style>
                </head>
                <body>${invoiceContent}</body>
                </html>
            `;
            
            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `invoice-${Date.now()}.html`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification(currentLanguage === 'mm' ? '·Äò·Ä±·Äú·Ä∫·Äê·Ä≠·ÄØ ·Äí·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·Äú·ÄØ·Äê·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ' : 'Invoice downloaded successfully', 'success');
        }
    </script>
</body>
</html>